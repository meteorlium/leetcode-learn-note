# LeetCode 空间复杂度 O(1) 优化技巧

## 核心思想

当 LeetCode 题目要求空间复杂度 O(1) 时，且输入变量或输出变量是数组或矩阵等 O(N) 以上的空间，则可以考虑将中间变量临时保存在输入或输出变量中。

## 关键要点

1. **数值保存位置选择**：注意数值保存位置和原本位置内容是否冲突
2. **原地变换技巧**：可以使用置换等原地变换的技巧
3. **输入输出复用**：充分利用已有的输入或输出数组空间

## 适用场景

- 数组原地排序
- 矩阵原地旋转
- 数组元素重新排列
- 标记访问状态（利用数组元素的正负号）
- 原地去重

## 实现策略

1. **标记法**：利用数组元素的符号位或特殊值进行标记
2. **置换法**：通过元素交换实现原地重排
3. **编码法**：在原有数据基础上编码额外信息
4. **双指针法**：配合原地操作减少空间使用

## 示例

https://leetcode.cn/problems/set-matrix-zeroes
https://leetcode.cn/problems/first-missing-positive